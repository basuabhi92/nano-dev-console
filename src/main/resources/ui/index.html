<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Dev Console</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="light">
<svg aria-hidden="true" style="position:absolute;width:0;height:0;overflow:hidden">
    <symbol id="icon-terminal" viewBox="0 0 24 24">
        <rect x="3" y="4" width="18" height="16" rx="2" fill="none" stroke="currentColor" stroke-width="2"/>
        <path d="M7 9l3 3-3 3" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
              stroke-linejoin="round"/>
        <path d="M12 15h5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    </symbol>
    <symbol id="icon-alert" viewBox="0 0 24 24">
        <path d="M12 3l9 16H3L12 3z" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M12 10v4" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round"/>
        <circle cx="12" cy="17" r="1" fill="currentColor"/>
    </symbol>
</svg>
<!-- Toolbar -->
<div id="nanoToolbar" class="toolbar">
    <div class="left">ğŸš€ Nano</div>
    <div class="right">
        <!-- Hamburger trigger -->
        <button id="toolbarMenuBtn" class="btn small menu-trigger" aria-haspopup="true" aria-expanded="false"
                title="Menu">
            <svg class="hamb" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M4 7h16M4 12h16M4 17h16"
                      fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
        </button>

        <!-- Dropdown menu -->
        <div id="toolbarMenu" class="menu" role="menu" aria-labelledby="toolbarMenuBtn">
            <button id="nanoPauseBtn" class="menu-item" role="menuitem" title="Pause/Resume">â¸ Pause / Resume</button>
            <button id="nanoExportBtn" class="menu-item" role="menuitem" title="Export events & logs">â¬‡ï¸ Export</button>
            <button id="nanoThemeBtn" class="menu-item" role="menuitem" title="Toggle theme">ğŸŒ¿ Toggle theme</button>
        </div>
    </div>
</div>

<h1 class="title-head">
    <svg class="icon" role="img" aria-label="Developer Console">
        <use href="#icon-terminal"></use>
    </svg>
    Developer Console
</h1>

<h2>ğŸ“Š Real-time Metrics</h2>
<div class="charts-grid">
    <div class="chart-container">
        <canvas id="memoryChart" width="300" height="200"></canvas>
    </div>
    <div class="chart-container">
        <canvas id="heapChart" width="300" height="200"></canvas>
    </div>
    <div class="chart-container">
        <canvas id="cpuChart" width="300" height="200"></canvas>
    </div>
    <div class="chart-container">
        <canvas id="threadsChart" width="300" height="200"></canvas>
    </div>
    <div class="chart-container">
        <canvas id="eventsChart" width="300" height="200"></canvas>
    </div>
</div>

<h2>ğŸ’» System Info</h2>
<pre id="system"></pre>

<div class="tabs">
    <div class="tab active" data-tab="events">ğŸ“¡ Events</div>
    <div class="tab" data-tab="logs">ğŸ“ Logs</div>
    <div class="tab" data-tab="config">âš™ï¸ Config</div>
</div>

<div id="events" class="tab-content active">
    <pre id="eventsData" class="log-view"></pre>
</div>
<div id="logs" class="tab-content">
    <pre id="logsData" class="log-view"></pre>
</div>
<div id="config" class="tab-content">
    <form id="configForm" class="config-form" novalidate>
        <div class="field">
            <label for="cfgMaxEvents">Max Events to be retained</label>
            <input id="cfgMaxEvents" name="maxEvents" type="number" min="0" step="1"/>
        </div>
        <div class="field">
            <label for="cfgMaxLogs">Max Logs to be retained</label>
            <input id="cfgMaxLogs" name="maxLogs" type="number" min="0" step="1"/>
        </div>
        <div class="field">
            <label for="cfgBaseUrl">Base URL</label>
            <input id="cfgBaseUrl" name="baseUrl" type="text" inputmode="url"/>
        </div>
        <div class="actions">
            <button id="configUpdateBtn" class="btn small" disabled>Update</button>
        </div>
    </form>
    <div id="configToast" class="toast" role="status" aria-live="polite"></div>
</div>
<div id="globalToast" class="toast" role="status" aria-live="polite"></div>
<div id="confirmModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="confirmTitle" aria-hidden="true">
    <div class="modal-backdrop" data-close="true"></div>
    <div class="modal-card" role="document">
        <div class="modal-header">
            <h3 id="confirmTitle">Confirm shutdown</h3>
        </div>
        <div class="modal-body">
            <p id="confirmText">Are you sure you want to stop <strong><span class="svc-name"></span></strong> ?</p>
        </div>
        <div class="modal-actions">
            <button id="confirmCancel" class="btn small" data-close="true">Cancel</button>
            <button id="confirmOk" class="btn small danger">Shutdown</button>
        </div>
    </div>
</div>

<script src="charts.js"></script>
<script src="script.js"></script>
</body>
</html>
